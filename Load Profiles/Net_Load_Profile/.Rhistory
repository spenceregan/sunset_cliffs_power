locale = locale(tz = "UTC")),
`Load (MW)` = "n"
)
) %>%
drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%m/%d/%y %H:%M",
locale = "UTC"),
`Load (MW)` = "n"
)
) %>%
drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%m/%d/%y %H:%M",
locale = default_locale()),
`Load (MW)` = "n"
)
) %>%
drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%m/%d/%y %H:%M",
locale = default_locale()),
`Load (MW)` = "n"
)
) %>%
drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 07:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%m/%d/%y %H:%M"),
`Load (MW)` = "n"
)
) %>%
drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 07:00:00")
View(sdge_cumulative)
View(provided_load)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = "T",
`Load (MW)` = "n"
)
) #%>%
View(provided_load)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) #%>%
View(provided_load)
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) #%>%
p_annual_sales <- sum(provided_load$`Load (MW)`) / 12.0
View(provided_load)
View(provided_load)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00" & Datetime < "2023-01-01 00:00:00")
View(provided_load)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00 ET" & Datetime < "2023-01-01 00:00:00 ET")
View(provided_load)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= as.datetime("2022-01-01 00:00:00") & Datetime < as.datetime("2023-01-01 00:00:00"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= as.datetime("2022-01-01 00:00:00 ET") & Datetime < as.datetime("2023-01-01 00:00:00 ET"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Da >= as.date("2022-01-01") & Datetime < as.date("2023-01-01"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Da >= as.datetime("2022-01-01") & Datetime < as.datetime("2023-01-01"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= as.datetime("2022-01-01") & Datetime < as.datetime("2023-01-01"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= as.datetime("2022-01-01"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= as.datetime("2022-01-01 00:00:00"))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00")
problems()
12*24
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2021-12-31 16:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "ET")
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00")
locale = locale(tz = "ET")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
# locale = locale(tz = "ET")
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
)
locale = locale(tz = "UTC")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= "2022-01-01 00:00:00")
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")
) %>%
# drop_na(Datetime) %>%
filter(Datetime >= parse_date_time("2022-01-01 00:00:00", locale = locale(tz = "UTC")))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")
) %>%
# drop_na(Datetime) %>%
filter(year(Datetime) == 2022)
12*24$365
12*24*365
interp_ev<- data.frame(time = seq(as.times("00:00:00"), as.times("23:55:00"), by = times("00:05:00")))
interp_ev$weekday <- approx(ev_daily_load$Time,
ev_daily_load$Weekday,
xout = interp_ev$time,
rule = 2,
method = "linear"
)
interp_ev$weekday <- approxfun(ev_daily_load$Time,
ev_daily_load$Weekday,
xout = interp_ev$time,
rule = 2,
method = "linear"
)
interp_ev <- approxfun(ev_daily_load$Time,
ev_daily_load$Weekday,
xout = interp_ev$time,
rule = 2,
method = "linear"
)
interp_ev <- approx(ev_daily_load$Time,
ev_daily_load$Weekday,
xout = interp_ev$time,
rule = 2,
method = "linear"
)
View(interp_ev)
interp_ev <- data.frame(time = seq(
as.times("00:00:00"),
as.times("23:55:00"),
by = times("00:05:00")
)
)
interp_ev$weekday <- interp_weekday(interp_ev$time)
interp_weekday <- approxfun(ev_daily_load$Time,
ev_daily_load$Weekday,
rule = 2,
method = "linear"
)
ev_daily_load <- read_csv('ev_load.csv')
ev_weekday <- zoo(ev_daily_load$Weekday, as_datetime(ev_daily_load$Time))
ev_weekend <- zoo(ev_daily_load$Weekend, ev_daily_load$Time)
interp_ev <- data.frame(time = seq(
as.times("00:00:00"),
as.times("23:55:00"),
by = times("00:05:00")
)
)
interp_weekday <- approxfun(ev_daily_load$Time,
ev_daily_load$Weekday,
rule = 2,
method = "linear"
)
interp_weekend <- approxfun(ev_daily_load$Time,
ev_daily_load$Weekend,
rule = 2,
method = "linear"
)
interp_ev$weekend <- interp_weekend(interp_ev$time)
interp_ev$weekday <- interp_weekday(interp_ev$time)
View(interp_ev)
View(ev_daily_load)
ev_daily_load <- read_csv('ev_5min.csv') %>%
mutate(Time = hms(Time))
ev_daily_load <- read_csv('ev_5min.csv') %>%
mutate(Time = Time - Time[1])
ev_daily_load <- read_csv('ev_5min.csv') %>%
mutate(Time = Time - ev_daily_load[1,1])
ev_daily_load <- read_csv('ev_5min.csv')
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = ""),
Weekday = "n",
Weekend = "n"
)
)
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(),
Weekday = "n",
Weekend = "n"
)
)
problems()
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
)
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
) %>%
mutate(Time = Time - Time[1])
View(ev_daily_load)
mutate(Time = hms(Time - Time[1])
ev_daily_load <- read_csv('ev_5min.csv',
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
) %>%
mutate(Time = as_numeric(Time - Time[1]))
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
) %>%
mutate(Time = as.numeric(Time - Time[1]))
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
) %>%
mutate(Minute = as.numeric(Time - Time[1]) / 60.)
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
) %>%
mutate(Time = as.numeric(Time - Time[1]) / 60.)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")
) %>%
# drop_na(Datetime) %>%
filter(year(Datetime) == 2022) %>%
mutate(Time = 60 * hour(Datetime) + minute(Datetime))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")) %>%
filter(year(Datetime) == 2022) %>%
mutate(Time = 60 * hour(Datetime) + minute(Datetime),
DOW = wday(Datetime))
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")) %>%
filter(year(Datetime) == 2022) %>%
mutate(Time = 60 * hour(Datetime) + minute(Datetime),
Weedkday = wday(Datetime) > 1 & wday(Datetime) < 7)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")) %>%
filter(year(Datetime) == 2022) %>%
mutate(Time = 60 * hour(Datetime) + minute(Datetime),
Weekdday = wday(Datetime) > 1 & wday(Datetime) < 7)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")) %>%
filter(year(Datetime) == 2022) %>%
mutate(Time = 60 * hour(Datetime) + minute(Datetime),
Weekdday = wday(Datetime) > 1 & wday(Datetime) < 7) %>%
rename(Load = `Load (MW)`)
?group_by
ev_daily_load <- read_csv('ev_5min.csv',
col_types = cols(
Time = col_datetime(format = "%D %R"),
Weekday = "n",
Weekend = "n"
)
) %>%
mutate(Time = as.numeric(Time - Time[1]) / 60.) %>%
pivot_longer(cols = -Time, names_to = "Weekday", values_to = "EV_load") %>%
mutate(Weekday = Weekday == "Weekday")
?inner_join
net_load <- provided_load %>%
inner_join(ev_daily_load)
provided_load <- read_csv('provided_load_profile.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
`Load (MW)` = "n"
),
locale = locale(tz = "UTC")) %>%
filter(year(Datetime) == 2022) %>%
mutate(Time = 60 * hour(Datetime) + minute(Datetime),
Weekday = wday(Datetime) > 1 & wday(Datetime) < 7) %>%
rename(Load = `Load (MW)`)
net_load <- provided_load %>%
inner_join(ev_daily_load)
View(net_load)
dg_gen <- read_csv('dg_5min.csv')
View(dg_gen)
str(dg_gen)
dg_gen <- read_csv('dg_5min.csv')
str(dg_gen)
dg_gen <- read_csv('dg_5min.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
Gen = "n"
)
)
str(dg_gen)
dg_gen <- read_csv('dg_5min.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R"),
Gen = "n"
)
)
net_load <- provided_load %>%
left_join(dg_gen) %>%
inner_join(ev_daily_load)
net_load <- provided_load %>%
left_join(dg_gen) %>%
inner_join(ev_daily_load) %>%
mutate(net_load = Load - Gen + SCPA_SDGE_ratio * EV_load / 1000)
net_load <- provided_load %>%
left_join(dg_gen) %>%
inner_join(ev_daily_load) %>%
mutate(net_load = Load - Gen + SCPA_SDGE_ratio * EV_load / 1000) %>%
select(net_load) %>%
write_csv('net_load_MW.csv')
net_load <- provided_load %>%
left_join(dg_gen) %>%
inner_join(ev_daily_load) %>%
mutate(net_load = Load - Gen + SCPA_SDGE_ratio * EV_load / 1000) %>%
select(net_load) %>%
write_csv('net_load_MW_5min.csv')
fuels_data <- data.frame(Time_Index = 0:(12*24*365), None = 0)
View(fuels_data)
fuels_data <- data.frame(Time_Index = 0:(12*24*365), None = 0) %>%
write_csv('Fuels_Data')
fuels_data <- data.frame(Time_Index = 0:(12*24*365), None = 0) %>%
write_csv('Fuels_Data.csv')
hydro_gen <- read_csv('hydro_5min_year.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R")
)) %>%
pivot_longer(-Datetime, names_to = "Hour", values_to = "gen") %>%
write_csv('hydro_vari.csv')
hydro_gen <- read_csv('hydro_5min_year.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R")
)) %>%
filter(year(Datetime) == 2022) %>%
pivot_longer(-Datetime, names_to = "Hour", values_to = "gen") %>%
write_csv('hydro_vari.csv')
hydro_gen <- read_csv('hydro_5min_year.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R")
)) %>%
filter(year(Datetime) == 2022) %>%
pivot_longer(-Datetime, names_to = "Hour", values_to = "gen") %>%
write_csv('hydro_vari.csv')
hydro_gen <- read_csv('hydro_5min_year.csv',
col_types = cols(
Datetime = col_datetime(format = "%D %R")
)) %>%
filter(year(Datetime) == 2022) %>%
pivot_longer(-Datetime, names_to = "Hour", values_to = "gen") %>%
write_csv('hydro_vari.csv')
net_load <- provided_load %>%
inner_join(ev_daily_load) %>%
mutate(net_load = Load + SCPA_SDGE_ratio * EV_load / 1000) %>%
select(net_load) %>%
write_csv('net_load_MW_5min.csv')
net_load <- provided_load %>%
left_join(dg_gen) %>%
inner_join(ev_daily_load) %>%
mutate(net_load = Load #- Gen
+ SCPA_SDGE_ratio * EV_load / 1000) %>%
select(net_load) %>%
write_csv('net_load_MW_5min.csv')
View(sdge_cumulative)
